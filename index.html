<!DOCTYPE html>
<html>
  <head>
    <title>2584 PitsScout</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
  </head>
  <body>
    <img src="ftw.jpg" alt="Team Logo" width="200"> 
    <h1>2584 PitScout</h1>
    <form id="myForm">

      <h3>Team Info</h3>
      <label for="Team Name">Team Name:</label>
      <input type="text" id="name" name="name"><br>
      <label for="Team #">Team #:</label>
      <input type="text" id="num" name="num"><br>

      <h3>Mechanical Info</h3>
      <label for="Drive">Team Drive?</label>
      <select id="drive" name="drive">
        <option value="Swerve">Swerve</option>
        <option value="6 Wheel">6 Wheel</option>
        <option value="4 Wheel">4 Wheel</option>
      </select> <br>
      <label for="Claw System">Claw System?</label>
      <input type="text" id="claw" name="claw"><br>
      <label for="Team #">Placement System? (Vertical Elevator, Horiz. Elevator, Catapult, etc.)</label>
      <input type="text" id="elevator" name="elevator"><br>

      <h3>Auton</h3>
      <label for="Drive">Has Auton?</label>
        <input type="checkbox" id="adrive" name="adrive" value="y">
     <br>

     <label for="ADrive">Move Bonus?</label>
        <input type="checkbox" id="leave" name="leave" value="y">
     <br>
     
      <label for="AScore">Score Objects?</label>
      <select id="score"wd name="score">
        <option value="Swerve">0</option>
        <option value="6 Wheel">1</option>
        <option value="4 Wheel">2</option>
        <option value="4 Wheel">3</option>
      </select><br>

      <label for="APark">Can Autopark?</label>
      <input type="checkbox" id="apark" name="apark" value="y">
   <br>

      <h3>Match</h3>
      <label for="Drive">Score Cubes?</label>
      <select id="cars"wd name="cars">
        <option value="Swerve">High</option>
        <option value="6 Wheel">Low</option>
        <option value="4 Wheel">Neither</option>
        <option value="4 Wheel">Both</option>
      </select><br>
      <label for="Drive">Score Cones?</label>
      <select id="cars"wd name="cars">
        <option value="Swerve">High</option>
        <option value="6 Wheel">Low</option>
        <option value="4 Wheel">Neither</option>
        <option value="4 Wheel">Both</option>
      </select><br>
      
      <label for="HPS">Can Accept Human Player Slide?</label>
      <input type="checkbox" id="hps" name="hps" value="y">
   <br>

   <label for="HPRA">Can Accept Human Player Ramp?</label>
      <input type="checkbox" id="hra" name="hra" value="y">
   <br>

   <label for="Cycle">~ Cycle time?</label>
      <input type="text" id="name" name="cycle"><br>

      <label for="CanBalance">Consistent Balance?</label>
      <input type="checkbox" id="canbalance" name="canbalance" value="y">

      <br><br>
      <label for="feedback"><h4>Other Info?</h4></label><br>
      <textarea id="feedback" name="feedback" rows="5" cols="50"></textarea><br>
      <br>
     
      <input type="submit" value="Export to CSV">
    </form>

    <script>
      function downloadCsv(csv, filename) {
        const csvFile = new Blob([csv], { type: "text/csv" });
        const downloadLink = document.createElement("a");
        downloadLink.download = filename;
        downloadLink.href = window.URL.createObjectURL(csvFile);
        downloadLink.style.display = "none";
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
      }

      function exportTableToCsv(filename) {
        const csv = [];
        const rows = document.querySelectorAll("form input");
        for (let i = 0; i < rows.length -1; i++) {
          csv.push(rows[i].value);
        }
        downloadCsv(csv.join(","), filename);
      }
      const csv = [];
        const rows = document.querySelectorAll("form input");
      document.getElementById("myForm").addEventListener("submit", function(event) {
        event.preventDefault();
        exportTableToCsv(rows[1].value + "-pitscout.csv");
        
      });
    </script>
    
  </body>
  <footer><p>What even is css?</p></footer>
</html>
