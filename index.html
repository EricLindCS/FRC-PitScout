<!DOCTYPE html>
<html>
  <head>
    <title>HTML Form to CSV Example</title>
  </head>
  <body>
    <h1>HTML Form to CSV Example</h1>
    <form id="myForm">
      <label for="Team Name">Team Name:</label>
      <input type="text" id="name" name="name"><br>
      <label for="Team #">Team #:</label>
      <input type="text" id="num" name="num"><br>

      <label for="Drive">Team Drive?</label>
      <select id="cars" name="cars">
        <option value="Swerve">Swerve</option>
        <option value="6 Wheel">6 Wheel</option>
        <option value="4 Wheel">4 Wheel</option>
      </select>
      <input type="submit" value="Export to CSV">
    </form>

    <script>
      function downloadCsv(csv, filename) {
        const csvFile = new Blob([csv], { type: "text/csv" });
        const downloadLink = document.createElement("a");
        downloadLink.download = filename;
        downloadLink.href = window.URL.createObjectURL(csvFile);
        downloadLink.style.display = "none";
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
      }

      function exportTableToCsv(filename) {
        const csv = [];
        const rows = document.querySelectorAll("form input");
        for (let i = 0; i < rows.length -1; i++) {
          csv.push(rows[i].value);
        }
        downloadCsv(csv.join(","), filename);
      }
      const csv = [];
        const rows = document.querySelectorAll("form input");
      document.getElementById("myForm").addEventListener("submit", function(event) {
        event.preventDefault();
        exportTableToCsv(rows[0].value + "-pitscout.csv");
        console.log(rows[0].value);
        
      });
    </script>
  </body>
</html>
